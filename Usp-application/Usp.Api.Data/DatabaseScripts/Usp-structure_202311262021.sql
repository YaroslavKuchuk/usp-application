--
-- Script was generated by Devart dbForge Studio for SQL Server, Version 6.5.16.0
-- Product home page: http://www.devart.com/dbforge/sql/studio
-- Script date 11/26/2023 8:21:02 PM
-- Server version: 16.00.1000
--


SET DATEFORMAT ymd
SET ARITHABORT, ANSI_PADDING, ANSI_WARNINGS, CONCAT_NULL_YIELDS_NULL, QUOTED_IDENTIFIER, ANSI_NULLS, NOCOUNT ON
SET NUMERIC_ROUNDABORT, IMPLICIT_TRANSACTIONS, XACT_ABORT OFF
GO

USE Usp
GO

IF DB_NAME() <> N'Usp' SET NOEXEC ON
GO

--
-- Create table [dbo].[SellingPoints]
--
PRINT (N'Create table [dbo].[SellingPoints]')
GO
CREATE TABLE dbo.SellingPoints (
  Id uniqueidentifier NOT NULL,
  Name nvarchar(max) NULL,
  Header nvarchar(max) NULL,
  Description nvarchar(max) NULL,
  CONSTRAINT [PK_dbo.SellingPoints] PRIMARY KEY CLUSTERED (Id)
)
ON [PRIMARY]
TEXTIMAGE_ON [PRIMARY]
GO

--
-- Create table [dbo].[SellingPointProperties]
--
PRINT (N'Create table [dbo].[SellingPointProperties]')
GO
CREATE TABLE dbo.SellingPointProperties (
  Id uniqueidentifier NOT NULL,
  SellingPointId uniqueidentifier NOT NULL,
  Name nvarchar(max) NULL,
  CONSTRAINT [PK_dbo.SellingPointProperties] PRIMARY KEY CLUSTERED (Id)
)
ON [PRIMARY]
TEXTIMAGE_ON [PRIMARY]
GO

--
-- Create index [IX_SellingPointId] on table [dbo].[SellingPointProperties]
--
PRINT (N'Create index [IX_SellingPointId] on table [dbo].[SellingPointProperties]')
GO
CREATE INDEX IX_SellingPointId
  ON dbo.SellingPointProperties (SellingPointId)
  ON [PRIMARY]
GO

--
-- Create table [dbo].[SellingPointPrices]
--
PRINT (N'Create table [dbo].[SellingPointPrices]')
GO
CREATE TABLE dbo.SellingPointPrices (
  Id uniqueidentifier NOT NULL,
  SellingPointId uniqueidentifier NOT NULL,
  Price decimal(18, 2) NOT NULL,
  StartDate datetime NOT NULL,
  EndDate datetime NULL,
  CONSTRAINT [PK_dbo.SellingPointPrices] PRIMARY KEY CLUSTERED (Id)
)
ON [PRIMARY]
GO

--
-- Create index [IX_SellingPointId] on table [dbo].[SellingPointPrices]
--
PRINT (N'Create index [IX_SellingPointId] on table [dbo].[SellingPointPrices]')
GO
CREATE INDEX IX_SellingPointId
  ON dbo.SellingPointPrices (SellingPointId)
  ON [PRIMARY]
GO

-- 
-- Dumping data for table SellingPoints
--
PRINT (N'Dumping data for table SellingPoints')
INSERT dbo.SellingPoints VALUES ('fd8f45bf-c98a-4fdd-863f-0173a271ee81', N'Danlon HR', N'Danlon HR header', N'Danlon HR description')
INSERT dbo.SellingPoints VALUES ('9c9e90db-fc63-4c49-b078-6ff3f642ff5e', N'Bonuskroner', N'Bonuskroner header', NULL)
INSERT dbo.SellingPoints VALUES ('673fe412-870b-47c0-83e7-8d66036d4bc3', N'Danlon', N'Danlon header', NULL)
GO

-- 
-- Dumping data for table SellingPointProperties
--
PRINT (N'Dumping data for table SellingPointProperties')
INSERT dbo.SellingPointProperties VALUES ('f735ec3c-e4b3-4d65-b3f1-096294839bc8', '673fe412-870b-47c0-83e7-8d66036d4bc3', N'Property 5')
INSERT dbo.SellingPointProperties VALUES ('5e1a84f2-e30e-46bc-b221-13ec11de3147', 'fd8f45bf-c98a-4fdd-863f-0173a271ee81', N'Property 3')
INSERT dbo.SellingPointProperties VALUES ('f751520c-9cfe-4304-9337-1a9ddeb97186', '673fe412-870b-47c0-83e7-8d66036d4bc3', N'Property 1')
INSERT dbo.SellingPointProperties VALUES ('7cfbf7e2-0e0e-4642-94b7-2e8a7f8059e4', '9c9e90db-fc63-4c49-b078-6ff3f642ff5e', N'Property 1')
INSERT dbo.SellingPointProperties VALUES ('89646ae1-d6f1-4611-8d72-58a1dac292e2', '9c9e90db-fc63-4c49-b078-6ff3f642ff5e', N'Property 4')
INSERT dbo.SellingPointProperties VALUES ('9318ddb0-cc6d-4786-a341-65fdf1163148', '673fe412-870b-47c0-83e7-8d66036d4bc3', N'Property 4')
INSERT dbo.SellingPointProperties VALUES ('9a149541-4239-436c-a23c-6a5d5f2430fe', '673fe412-870b-47c0-83e7-8d66036d4bc3', N'Property 2')
INSERT dbo.SellingPointProperties VALUES ('cf82cbd4-5d75-4315-a5d1-857a0f31ce32', '9c9e90db-fc63-4c49-b078-6ff3f642ff5e', N'Property 3')
INSERT dbo.SellingPointProperties VALUES ('0ffc00f5-5ec3-418a-850c-9a660c580dbc', 'fd8f45bf-c98a-4fdd-863f-0173a271ee81', N'Property 1')
INSERT dbo.SellingPointProperties VALUES ('4437211d-0c0a-4ddd-9210-9c3a8e3f8169', 'fd8f45bf-c98a-4fdd-863f-0173a271ee81', N'Property 2')
INSERT dbo.SellingPointProperties VALUES ('51a924c7-10a3-46eb-85b4-bfc2cc9f2ac0', '9c9e90db-fc63-4c49-b078-6ff3f642ff5e', N'Property 2')
INSERT dbo.SellingPointProperties VALUES ('52e2bc1f-7a82-4be3-b401-fca905d77e05', '673fe412-870b-47c0-83e7-8d66036d4bc3', N'Property 3')
GO

-- 
-- Dumping data for table SellingPointPrices
--
PRINT (N'Dumping data for table SellingPointPrices')
INSERT dbo.SellingPointPrices VALUES ('3ba31543-44c9-4a2e-b41e-6f10ec2f9360', '9c9e90db-fc63-4c49-b078-6ff3f642ff5e', 15.00, '2023-11-16 23:28:24.013', NULL)
INSERT dbo.SellingPointPrices VALUES ('92822b47-02b7-436c-9586-be8d182a10c9', 'fd8f45bf-c98a-4fdd-863f-0173a271ee81', 20.00, '2023-11-16 23:28:24.013', NULL)
INSERT dbo.SellingPointPrices VALUES ('f51a4844-2994-4c66-bd77-f86a67755024', '673fe412-870b-47c0-83e7-8d66036d4bc3', 22.00, '2023-11-16 23:28:24.007', NULL)
GO

USE Usp
GO

IF DB_NAME() <> N'Usp' SET NOEXEC ON
GO

--
-- Create foreign key [FK_dbo.SellingPointProperties_dbo.SellingPoints_SellingPointId] on table [dbo].[SellingPointProperties]
--
PRINT (N'Create foreign key [FK_dbo.SellingPointProperties_dbo.SellingPoints_SellingPointId] on table [dbo].[SellingPointProperties]')
GO
ALTER TABLE dbo.SellingPointProperties
  ADD CONSTRAINT [FK_dbo.SellingPointProperties_dbo.SellingPoints_SellingPointId] FOREIGN KEY (SellingPointId) REFERENCES dbo.SellingPoints (Id) ON DELETE CASCADE
GO

--
-- Create foreign key [FK_dbo.SellingPointPrices_dbo.SellingPoints_SellingPointId] on table [dbo].[SellingPointPrices]
--
PRINT (N'Create foreign key [FK_dbo.SellingPointPrices_dbo.SellingPoints_SellingPointId] on table [dbo].[SellingPointPrices]')
GO
ALTER TABLE dbo.SellingPointPrices
  ADD CONSTRAINT [FK_dbo.SellingPointPrices_dbo.SellingPoints_SellingPointId] FOREIGN KEY (SellingPointId) REFERENCES dbo.SellingPoints (Id) ON DELETE CASCADE
GO
SET NOEXEC OFF
GO